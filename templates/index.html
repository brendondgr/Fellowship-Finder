<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Front Page Prototype</title>
    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Google Fonts: Inter -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800;900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="{{ url_for('static', filename='index.css') }}">
</head>
<body class="bg-gray-100">

    <!-- Header Section -->
    <header class="bg-white shadow-sm">
        <div class="container mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex items-center justify-between h-16">
                <div class="flex-shrink-0">
                    <h1 class="text-2xl font-bold text-gray-800">ProFellow Data</h1>
                </div>
                <nav class="hidden md:flex md:space-x-8 justify-center">
                    
                </nav>
                <div class="hidden md:flex items-center">
                    <button id="scrape-btn" class="inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 mr-4">
                        <svg class="h-5 w-5 mr-2" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M17 17H17.01M17.4 14H18C18.9319 14 19.3978 14 19.7654 14.1522C20.2554 14.3552 20.6448 14.7446 20.8478 15.2346C21 15.6022 21 16.0681 21 17C21 17.9319 21 18.3978 20.8478 18.7654C20.6448 19.2554 20.2554 19.6448 19.7654 19.8478C19.3978 20 18.9319 20 18 20H6C5.06812 20 4.60218 20 4.23463 19.8478C3.74458 19.6448 3.35523 19.2554 3.15224 18.7654C3 18.3978 3 17.9319 3 17C3 16.0681 3 15.6022 3.15224 15.2346C3.35523 14.7446 3.74458 14.3552 4.23463 14.1522C4.60218 14 5.06812 14 6 14H6.6M12 15V4M12 15L9 12M12 15L15 12" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        </svg>
                        Scrape
                    </button>
                    <a href="https://github.com/brendondgr/Profellow" target="_blank" rel="noopener noreferrer" class="inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-gray-700 bg-gray-100 hover:bg-gray-200">
                        <svg class="h-5 w-5 mr-2" fill="currentColor" viewBox="0 0 24 24" aria-hidden="true">
                            <path fill-rule="evenodd" d="M12 2C6.477 2 2 6.477 2 12c0 4.418 2.865 8.165 6.839 9.489.5.092.682-.217.682-.482 0-.237-.009-.868-.014-1.703-2.782.605-3.369-1.343-3.369-1.343-.454-1.158-1.11-1.466-1.11-1.466-.908-.62.069-.608.069-.608 1.003.07 1.531 1.032 1.531 1.032.892 1.53 2.341 1.088 2.91.832.092-.647.35-1.088.636-1.338-2.22-.253-4.555-1.113-4.555-4.951 0-1.093.39-1.988 1.031-2.688-.103-.253-.446-1.272.098-2.65 0 0 .84-.27 2.75 1.026A9.564 9.564 0 0112 6.844c.85.004 1.705.115 2.504.337 1.909-1.296 2.747-1.027 2.747-1.027.546 1.378.203 2.398.1 2.651.64.7 1.03 1.595 1.03 2.688 0 3.848-2.338 4.695-4.566 4.943.359.309.678.92.678 1.855 0 1.338-.012 2.419-.012 2.747 0 .268.18.58.688.482A10.001 10.001 0 0022 12c0-5.523-4.477-10-10-10z" clip-rule="evenodd"></path>
                        </svg>
                        Code
                    </a>
                </div>
            </div>
        </div>
    </header>

    <main>
        <div class="container mx-auto py-8 px-4 sm:px-6 lg:px-8">
            <div class="max-w-3xl mx-auto">
                <!-- Title -->
                <h2 class="text-4xl font-extrabold tracking-tight text-gray-900 sm:text-5xl md:text-6xl text-center mb-2">
                    <span class="block">Find Your Next <span class="text-indigo-600">Opportunity</span></span>
                </h2>
                <p class="text-center text-lg font-bold text-gray-600 mb-6">Filters:</p>

                <!-- Filters Section -->
                <div class="bg-white p-6 rounded-lg shadow-md mb-6">
                    <div class="grid grid-cols-1 gap-6">
                        <!-- Min. Stars Slider -->
                        <div>
                            <label for="min-stars" class="block text-lg font-medium text-gray-700">Min. Stars: <span id="min-stars-value" class="font-bold">1</span></label>
                            <input type="range" id="min-stars" name="min-stars" min="1" max="5" value="1" class="w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer">
                        </div>
                        <!-- Checkboxes -->
                        <div class="grid grid-cols-2 gap-6">
                            <div class="flex items-center">
                                <input id="favorites-first" name="favorites-first" type="checkbox" class="h-5 w-5 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded">
                                <label for="favorites-first" class="ml-3 block text-lg text-gray-900">Favorites First</label>
                            </div>
                            <div class="flex items-center">
                                <input id="show-removed" name="show-removed" type="checkbox" class="h-5 w-5 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded">
                                <label for="show-removed" class="ml-3 block text-lg text-gray-900">Show Removed</label>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Search Section -->
                <div class="bg-white p-6 rounded-lg shadow-md mb-6">
                    <div class="flex items-center">
                        <input type="text" id="search-input" placeholder="Enter keywords separated by commas..." class="flex-grow p-2 border border-gray-300 rounded-md focus:ring-indigo-500 focus:border-indigo-500 text-lg">
                        <div class="relative ml-2 group">
                            <svg class="h-6 w-6 text-gray-400" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor">
                                <path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z" clip-rule="evenodd" />
                            </svg>
                            <div class="absolute bottom-full mb-2 w-64 p-2 bg-gray-800 text-white text-sm rounded-md opacity-0 group-hover:opacity-100 transition-opacity duration-300 pointer-events-none z-10">
                                Enter keywords to search in Title, Description, and Tags. Separate multiple keywords with a comma. The search is case-insensitive. Results will be ordered by the number of keyword matches.
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Get Results Button -->
                <div class="text-center mb-8">
                    <button id="get-results-btn" class="w-full px-8 py-3 border border-transparent text-lg font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700">
                        Get Results
                    </button>
                </div>
            </div>
            
            <!-- Data Availability Notification -->
            <div id="notification-area" class="hidden bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-6" role="alert">
                <strong class="font-bold">No Processed Data Found!</strong>
                <span class="block sm:inline">Please press the "Process" button at the top of the screen to process the data.</span>
            </div>

            <!-- Controls Row: Total and Items per page -->
            <div id="controls-row" class="flex items-center justify-between mb-6">
                <p class="text-gray-600">Total: <span id="total-opportunities" class="font-semibold">0</span></p>
                <div class="flex items-center">
                    <label for="items-per-page" class="text-gray-600 mr-2">Show:</label>
                    <select id="items-per-page" name="items-per-page" class="border border-gray-300 rounded-md shadow-sm p-2 text-sm focus:ring-indigo-500 focus:border-indigo-500">
                        <option value="10">10</option>
                        <option value="20">20</option>
                        <option value="50">50</option>
                        <option value="100">100</option>
                    </select>
                    <button id="refresh-btn" class="ml-4 p-2 rounded-md hover:bg-gray-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500">
                        <img src="{{ url_for('static', filename='svg/refresh.svg') }}" alt="Refresh" class="h-5 w-5 text-gray-600">
                    </button>
                </div>
            </div>

            <!-- Fellowship Cards Container -->
            <div id="fellowship-cards-container" class="space-y-6">
                <!-- Dynamic cards will be inserted here -->
            </div>

            <!-- Load More Button -->
            <div id="load-more-container" class="text-center mt-8">
                <button id="load-more-btn" class="px-8 py-3 border border-transparent text-base font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700">
                    Load More
                </button>
                <p id="no-more-message" class="text-gray-500 hidden">No more available</p>
            </div>

            <!-- Undo Container -->
            <div id="undo-container" class="fixed bottom-4 right-4 bg-gray-800 text-white p-4 rounded-lg shadow-lg flex items-center gap-4 hidden">
                <span>Fellowship removed.</span>
                <button id="undo-btn" class="font-semibold text-indigo-400 hover:text-indigo-300">Undo</button>
            </div>

                <!-- Generic Notification Container -->
                <div id="notification-container" class="fixed top-20 right-4 bg-blue-500 text-white p-4 rounded-lg shadow-lg hidden z-50">
                    <span id="notification-message"></span>
                </div>

            </div>
        </div>
    </main>

    <!-- Scrape Modal -->
    <div id="scrape-modal" class="fixed inset-0 bg-black bg-opacity-50 hidden items-center justify-center z-50">
        <div id="scrape-modal-content" class="p-8">
            <!-- Content from scrape.html will be loaded here -->
        </div>
    </div>
    
    <script src="{{ url_for('static', filename='index.js') }}"></script>
</body>
</html>
